<div>
    <div *ngIf="isLoading" class="loading">Loading...</div>
        <ng-container *ngIf="!isLoading">
            <app-search (searchTerm)="onSearch($event)"></app-search>

            <ng-container *ngIf="filteredComments.length > 0; else noResults">        
                <table *ngIf="!isLoading">
                    <thead>
                        <tr>
                        <th (click)="sortData('id')">ID</th>
                        <th>Name</th>
                        <th (click)="sortData('email')">Email</th>
                        <th>Body</th>
                        <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                            <tr *ngFor="let comment of paginatedComments">
                                    <td>{{ comment.id }}</td>
                                    <td [innerHTML]="highlightText(comment.name)"></td>
                                    <td [innerHTML]="highlightText(comment.email)"></td>
                                    <td [innerHTML]="highlightText(comment.body)"></td>
                                <td>
                                    <button class="delete-btn" (click)="deleteComment(comment.id)">Delete</button>
                                </td>
                            </tr>
                    </tbody>
                </table>        
                <app-pagination 
                    [totalItems]="filteredComments.length" 
                    (pageChange)="onPageChange($event)"
                    (itemsPerPageChange)="onItemsPerPageChange($event)">
                </app-pagination>
            </ng-container>

            <ng-template #noResults>
                <div class="message">No result found</div>
            </ng-template>  
            
    </ng-container>    
</div>